<template>
  <div id="app">
    <router-view></router-view>  <!-- æ¸²æŸ“åŒ¹é…è·¯ç”±çš„ç»„ä»¶ -->
    <button @click="handleSearch">æŸ¥è¯¢</button>
    <button @click="handleInsert">æ’å…¥</button>
    <button @click="handleDelete">åˆ é™¤</button>
    <button @click="handleSign">ç­¾åˆ°</button>
  </div>
</template>

<script setup>
</script>

<style>
</style>

<script setup name="DB">
// import { onMounted } from 'vue';
// import cloudbase from '@cloudbase/js-sdk';
// import { getCurrentInstance } from 'vue'

// // const app = cloudbase.init({
// //   env: 'default-6g2quukx81b39ea9',
// //   region: "ap-guangzhou"
// // });

// const instance = getCurrentInstance()  // è·å–å½“å‰ç»„ä»¶å®ä¾‹
// const { globalProperties } = instance.appContext.config
// const app = globalProperties.$cloudbase;

// const auth = app.auth();

// const db = app.database();

// const login = async () =>{
//   // è°ƒç”¨åŒ¿åç™»å½•æ¥å£
//   await auth.anonymousAuthProvider().signIn();
//   // åŒ¿åç™»å½•æˆåŠŸåï¼Œç™»å½•çŠ¶æ€isAnonymouså­—æ®µå€¼ä¸ºtrue
//   const loginState = await auth.getLoginState();
//   console.log(loginState.isAnonymousAuth); // true
// }

// const handleSearch = () => {
//   db.collection('sign_table')
//   .get().then((res) => {
//     console.log('ğŸš€ğŸš€ DB', res);
//   })
// }

// // å¢åŠ å¤šæ¡æ•°æ®åªæ”¯æŒæœåŠ¡ç«¯ SDK ä½¿ç”¨ï¼Œå®¢æˆ·ç«¯éå†æ·»åŠ å§
// const handleInsert = () => {
//   db.collection('sign_table').add(
//     {
//       name: 'ä»£ç”¨å',
//       first_seat: 'ç¬¬ä¸€æ’8å·',
//       second_seat: 'ç¬¬äºŒæ’32å·',
//       sign_in_number: 1,
//       sign_in_status: false,
//     }
//   )
// }

// const handleDelete = () => {
//   db.collection('sign_table').where({
//     name: 'ä»£ç”¨å'
//   }).remove()
// }

// const handleSign = () => {
//   db.collection('sign_table').where({
//     _id: 'ed8dc551671906b7003c7b6947617a5a'
//   }).update({
//     sign_in_number: 2,
//     sign_in_status: true
//   }).then((res) => {
//     console.log("ğŸš€ ~ db.collection ~ res:", res)
    
//   }).catch((err) => {
//     console.log("ğŸš€ ~ db.collection ~ err:", err)
    
//   })
// }

// onMounted(async () => {
//   // login()
//   // handleSearch();
// })
</script>
